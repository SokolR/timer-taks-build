(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{285:function(e,t,a){e.exports=a(553)},290:function(e,t,a){},553:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(34),o=(a(290),a(90)),s=a(91),i=a(99),l=a(92),u=a(100),m=a(33),d="COUNT_TIMER",h="BUTTON_TEXT",p="TASK_NAME",b="DATE_START",f="OPEN_MODAL",g="TIMER_CONTINUE",E={countTimer:function(e){return{type:d,count:e}},buttonText:function(){return{type:h}},taskName:function(e){return{type:p,name:e}},dateStart:function(e){return{type:b,date:e}},openModal:function(e){return{type:f,isOpen:e}},timerContinue:function(){return{type:g}}},T=a(206),O=a(140),k=a(557),j=a(31),N=a(36),v=a(98),x=a(27),S=a.n(x),C={taskName:"taskName",dateStart:"dateStart",dateEnd:"dateEnd",countTimer:"countTimer"},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"s";return S()(0).set({hour:0,minute:0,second:0}).add(e,t).format("HH:mm:ss")},y=function(e,t){return S()(e[C.dateStart]).isBefore(S()(t[C.dateStart]))?-1:S()(t[C.dateStart]).isBefore(S()(e[C.dateStart]))?1:0},L=function(e){for(var t=[],a=S()(),n=0;n<24;n++)t.push({name:n,pv:0});return Object(v.a)(e).sort(y).forEach(function(e){var n=S()(e[C.dateStart]).isSame(a,"day"),r=S()(e[C.dateEnd]).isSame(a,"day");if(n||r)for(var c=S()(e[C.dateStart]),o=S()(e[C.dateEnd]),s=n?c:a.startOf("day"),i=r?o:a.endOf("day"),l=s.get("hour"),u=i.get("hour"),m=s.get("minute"),d=r?i.get("minute"):60,h=l;h<=u;h++)t[h].pv=u===l?t[h].pv+(d-m):h===l?t[h].pv+(60-m):h===u?t[h].pv+d:t[h].pv+60}),t},M=function(e){var t=e.countTimer,a=e.buttonText,n=e.dateStart;return a?t:Math.round(S.a.duration(S()()-S()(n)).asSeconds())},_=function(e){return S()(e).format("DD-MM-YYYY HH:mm:ss")},A=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},R=function(){var e=function(e,t){for(var a=[],n=null,r=0;r<t;r++){a.push(I(n));var c=a.reduce(function(e,t){return e+t},0),o=e-c,s=t-a.length;n=o/s}return a}(480,B(10,16)),t=[],a=S()().set({hour:9,minute:0,second:0}).valueOf(),n=6e4*(480-e.reduce(function(e,t){return e+t},0));return e.forEach(function(e,r){var c,o=B(0,n);n-=o,t.push((c={},Object(N.a)(c,C.taskName,"task ".concat(r+1)),Object(N.a)(c,C.dateStart,a),Object(N.a)(c,C.dateEnd,a+6e4*e),Object(N.a)(c,C.countTimer,w(e,"m")),c)),a=a+6e4*e+o}),t};function I(e){var t=91;return null!=e&&e>=0&&e<=91&&(t=e),B(10,t)}function B(e,t){return Math.floor(Math.random()*(t-e))+e}var D=a(9),H=a(44),F=Object(m.connect)(function(e){return{tasksLog:e.tab.tasksLog}})(Object(H.withStyles)(function(e){return{button:{margin:e.spacing.unit,backgroundColor:"#48BDD5",color:"#ffffff"},leftIcon:{marginRight:e.spacing.unit},root:Object(j.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,minWidth:"50%",width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"}),table:{maxWidth:900,whiteSpace:"nowrap"},wrap:{whiteSpace:"normal"}}})(function(e){var t=e.classes,a=e.tasksLog,n=e.match.params.id;return r.a.createElement(D.c,{container:!0,alignItems:"center",justify:"center",direction:"column"},r.a.createElement(D.c,{item:!0},r.a.createElement(k.a,{to:"/timer/"},r.a.createElement(D.b,{variant:"contained",className:t.button},r.a.createElement(D.d,{className:t.leftIcon},r.a.createElement("i",{className:"fas fa-long-arrow-alt-left"})),"Back")),r.a.createElement(D.f,{className:t.root,elevation:1},(!A(n)||n<=0||n>a.length)&&r.a.createElement(D.o,{variant:"headline",gutterBottom:!0},"This page does not exist!"),A(n)&&n>0&&n<=a.length&&r.a.createElement(D.h,{className:t.table},r.a.createElement(D.k,null,r.a.createElement(D.l,null,r.a.createElement(D.j,null,"Task"),r.a.createElement(D.j,null,"Time start"),r.a.createElement(D.j,null,"Time end"),r.a.createElement(D.j,null,"Time spend"))),r.a.createElement(D.i,null,r.a.createElement(D.l,{key:n},r.a.createElement(D.j,{component:"th",scope:"row",className:t.wrap},a[n-1].taskName),r.a.createElement(D.j,null,_(a[n-1].dateStart)),r.a.createElement(D.j,null,_(a[n-1].dateEnd)),r.a.createElement(D.j,null,a[n-1].countTimer)))))))})),U="OPEN_TAB_NUMBER",K="TASKS_LOG",z="DATA_FOR_CHART",W={openTabNumber:function(e){return{type:U,tabNumber:e}},tasksLog:function(e){return{type:K,taskLog:e}},dataForChart:function(e){return{type:z,data:e}}},X={changeTasksLog:W.tasksLog},G=Object(m.connect)(function(e){return{tasksLog:e.tab.tasksLog}},X)(Object(H.withStyles)(function(e){return{root:{width:"100%",marginTop:0,overflowX:"auto",boxShadow:"inherit",borderRadius:"inherit"},table:{minWidth:700,color:"#1155cc"},rowTasksLog:{backgroundColor:"#eaf6fe"},cellTasksLog:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"200px",color:"#1155cc"},buttonTable:{backgroundColor:"#ffffff",margin:"10% auto"}}})(function(e){var t=e.classes,a=e.tasksLog,n=e.changeTasksLog;return r.a.createElement(D.f,{className:t.root},r.a.createElement(D.h,{className:t.table},r.a.createElement(D.k,null,r.a.createElement(D.l,null,r.a.createElement(D.j,null,"\u2116"),r.a.createElement(D.j,null,"Task"),r.a.createElement(D.j,null,"Time start"),r.a.createElement(D.j,null,"Time end"),r.a.createElement(D.j,null,"Time spend"),r.a.createElement(D.j,null,"Info"),r.a.createElement(D.j,null,"Delete"))),r.a.createElement(D.i,null,a.map(function(e,c){return r.a.createElement(D.l,{key:c,className:t.rowTasksLog,hover:!0},r.a.createElement(D.j,{className:t.cellTasksLog},c+1),Object.keys(e).map(function(a,n){return r.a.createElement(D.j,{key:n,className:t.cellTasksLog},a===C.dateStart||a===C.dateEnd?S()(e[a]).format("HH:mm:ss"):e[a])}),r.a.createElement(D.j,{className:t.cellTasksLog},r.a.createElement(k.a,{to:"/tasks/".concat(c+1)},r.a.createElement(D.b,{size:"small",variant:"outlined",color:"inherit",className:t.buttonTable},"INFO"))),r.a.createElement(D.j,{className:t.cellTasksLog},r.a.createElement(D.b,{size:"small",variant:"outlined",onClick:function(){return function(e){var t=a.filter(function(t,a){return e!==a});n(t)}(c)},color:"inherit",className:t.buttonTable},"DELETE")))}))))})),P=a(559),Y=a(558),J=a(540),V=a(541),q=a(555),Q=a(207),Z=a(554),$={changeTasksLog:W.tasksLog},ee=Object(m.connect)(function(e){return{dataForChart:e.tab.dataForChart}},$)(Object(H.withStyles)(function(e){return{root:{margin:"5px",overflowX:"auto",overflowY:"hidden",textAlign:"right"},buttonGenerate:{marginTop:3*e.spacing.unit,marginRight:15*e.spacing.unit}}})(function(e){var t=e.dataForChart,a=e.classes,n=e.changeTasksLog;return r.a.createElement("div",{className:a.root},r.a.createElement(P.a,{width:1600,height:325,maxBarSize:25,data:t},r.a.createElement(Y.a,{strokeDasharray:"3 3"}),r.a.createElement(J.a,{dataKey:"name"}),r.a.createElement(V.a,{ticks:[0,15,30,45,60]}),r.a.createElement(q.a,null),r.a.createElement(Q.a,null),r.a.createElement(Z.a,{dataKey:"pv",fill:"#3450c7",name:"Minutes in this hours"})),r.a.createElement(D.b,{size:"small",variant:"outlined",onClick:function(){n(R())},color:"inherit",className:a.buttonGenerate},"GENERATE"))})),te=Object(H.withStyles)(function(e){return{paper:{position:"absolute",width:100*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:2*e.spacing.unit},taskName:{color:"#50cbde !important",fontWeight:"700"},timer:{width:"250px",height:"250px",borderRadius:"50%",margin:"15px",textAlign:"center",lineHeight:"250px",fontSize:"40px",fontWeight:"700"},modalTitleH2:{margin:"20px",marginTop:"10px",color:"#C74670"},modalTitleH3:{margin:"20px"},buttonClose:{color:"#50cbde",left:"90%"}}})(function(e){var t=e.timer,a=e.buttonOnClick,n=e.onChangeTaskName,c=e.onChangeCloseModal,o=e.onChangeOpenModal,s=e.classes;return r.a.createElement(D.c,{item:!0,xs:12},r.a.createElement(D.c,{container:!0,alignItems:"center",justify:"center",direction:"column",spacing:16},r.a.createElement(D.n,{className:s.taskName,id:"with-placeholder",placeholder:"Name of your task",margin:"normal",value:t.taskName,onChange:n}),r.a.createElement(D.f,{className:s.timer},w(t.countTimer)),r.a.createElement(D.b,{size:"small",variant:"outlined",onClick:function(){t.taskName||t.buttonText?a():o(!0)},color:"inherit"},t.buttonText?"START":"STOP"),r.a.createElement(D.e,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:t.openModal,onClose:c},r.a.createElement(D.f,{style:{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")},className:s.paper},r.a.createElement(D.o,{variant:"title",className:s.modalTitleH2},"Empty task name"),r.a.createElement(D.o,{variant:"subheading",id:"simple-modal-description",className:s.modalTitleH3},"You are trying close your task without name, enter the title and try again!"),r.a.createElement(D.b,{size:"medium",onClick:c,className:s.buttonClose},"CLOSE")))))}),ae={timer:{countTimer:0,buttonText:!0,taskName:"",dateStart:0,openModal:!1,timerSetInterval:null},tab:{openTabNumber:0,tasksLog:[],dataForChart:L([])}},ne={tasksLog:"tasks-log",tasksChart:"tasks-chart"},re=Object(H.withStyles)(function(e){return{root:{width:"100%",marginTop:"5%"},header:{backgroundColor:"#48bdd5",boxShadow:"inherit"},fieldHeader:{maxWidth:"100%",flex:"1",fontWeight:"700",fontSize:"1rem !important"}}})(function(e){var t=e.match.params.name,a=e.classes;return t&&[ne.tasksLog,ne.tasksChart].includes(t)?r.a.createElement("div",{className:a.root},r.a.createElement(D.a,{position:"static",className:a.header},r.a.createElement(D.m,{value:t,onChange:function(t,a){e.history.push("/timer/".concat(a))}},r.a.createElement(D.g,{label:"TASKS LOG",className:a.fieldHeader,value:"tasks-log"}),r.a.createElement(D.g,{label:"TASKS CHART",className:a.fieldHeader,value:"tasks-chart"}))),r.a.createElement(O.a,{exact:!0,path:"/timer/tasks-log",component:G}),r.a.createElement(O.a,{exact:!0,path:"/timer/tasks-chart",component:ee})):(e.history.push("/timer/tasks-log"),null)}),ce=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).onChangeTaskName=function(e){a.props.changeTaskName(e.target.value)},a.onChangeOpenModal=function(){a.props.handlerOpenModal(!0)},a.onChangeCloseModal=function(){a.props.handlerOpenModal(!1)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.timer,a=e.classes,n=e.match,c=e.history,o=e.changeButtonText;return r.a.createElement("div",{className:a.root},r.a.createElement(D.c,{container:!0,alignItems:"center",justify:"center",direction:"column"},r.a.createElement(te,{timer:t,buttonOnClick:o,onChangeTaskName:this.onChangeTaskName,onChangeCloseModal:this.onChangeCloseModal,onChangeOpenModal:this.onChangeOpenModal}),r.a.createElement(re,{match:n,history:c})))}}]),t}(n.Component),oe={setTimer:E.countTimer,changeButtonText:E.buttonText,changeTaskName:E.taskName,setDateStart:E.dateStart,handlerOpenModal:E.openModal,changeTasksLog:W.tasksLog},se=Object(m.connect)(function(e){return{timer:e.timer,tab:e.tab}},oe)(Object(H.withStyles)(function(e){return{root:{padding:"20px"}}})(ce)),ie=a(70),le=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.timer.buttonText||this.props.timerContinue()}},{key:"render",value:function(){return r.a.createElement(ie.ConnectedRouter,{history:this.props.history},r.a.createElement(T.a,null,r.a.createElement(O.a,{path:"/timer/:name",component:se}),r.a.createElement(O.a,{exact:!0,path:"/tasks-log",component:G}),r.a.createElement(O.a,{exact:!0,path:"/tasks-chart",component:ee}),r.a.createElement(O.a,{exact:!0,path:"/tasks/:id",component:F}),r.a.createElement(O.a,{component:se})))}}]),t}(n.Component),ue={timerContinue:E.timerContinue},me=Object(m.connect)(function(e){return{timer:e.timer,tab:e.tab,router:e.router}},ue)(le),de=a(49),he=Object(de.c)({timer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COUNT_TIMER":return Object(j.a)({},e,{countTimer:t.count});case"BUTTON_TEXT":return Object(j.a)({},e,{buttonText:!e.buttonText});case"TASK_NAME":return Object(j.a)({},e,{taskName:t.name});case"DATE_START":return Object(j.a)({},e,{dateStart:t.date});case"OPEN_MODAL":return Object(j.a)({},e,{openModal:t.isOpen});case"TIMER_CONTINUE":return Object(j.a)({},e,{timerContinue:!e.timerContinue});default:return e}},tab:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_TAB_NUMBER":return Object(j.a)({},e,{openTabNumber:t.tabNumber});case"TASKS_LOG":return Object(j.a)({},e,{tasksLog:t.taskLog});case"DATA_FOR_CHART":return Object(j.a)({},e,{dataForChart:t.data});default:return e}}}),pe=a(97),be=a(40),fe=a.n(be),ge=a(26),Ee=fe.a.mark(Ne),Te=fe.a.mark(ve),Oe=fe.a.mark(xe),ke=fe.a.mark(Se),je=fe.a.mark(Ce);function Ne(e){var t;return fe.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(ge.b)(W.tasksLog,e);case 2:return t=a.sent,a.next=5,Object(ge.c)(W.dataForChart(L(t.taskLog.taskLog)));case 5:case"end":return a.stop()}},Ee,this)}function ve(){return fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ge.d)(function(e){return e.timer});case 2:if(!e.sent.buttonText){e.next=8;break}return e.next=6,Object(ge.b)(Se);case 6:e.next=12;break;case 8:return e.next=10,Object(ge.c)(E.dateStart(S()().valueOf()));case 10:return e.next=12,Object(ge.b)(xe);case 12:case"end":return e.stop()}},Te,this)}function xe(){var e,t,a,n;return fe.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(ge.d)(function(e){return e.timer.buttonText});case 2:e=r.sent;case 3:if(e){r.next=18;break}return r.next=6,Object(ge.b)(pe.b,1e3);case 6:return r.next=8,Object(ge.d)(function(e){return e.timer});case 8:if(t=r.sent,a=t.buttonText,n=t.countTimer,!(e=a)){r.next=14;break}return r.abrupt("break",18);case 14:return r.next=16,Object(ge.c)(E.countTimer(n+1));case 16:r.next=3;break;case 18:case"end":return r.stop()}},Oe,this)}function Se(){var e,t,a,n,r,c,o,s,i;return fe.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(ge.d)(function(e){return e.timer});case 2:return t=l.sent,a=t.taskName,n=t.dateStart,r=t.countTimer,l.next=8,Object(ge.d)(function(e){return e.tab.tasksLog});case 8:return c=l.sent,o=S()().valueOf(),e={},Object(N.a)(e,C.taskName,a),Object(N.a)(e,C.dateStart,n),Object(N.a)(e,C.dateEnd,o),Object(N.a)(e,C.countTimer,w(r)),s=e,i=Object(v.a)(c).concat([s]),l.next=14,Object(ge.c)(W.tasksLog(i));case 14:return l.next=16,Object(ge.c)(E.countTimer(0));case 16:return l.next=18,Object(ge.c)(E.taskName(""));case 18:case"end":return l.stop()}},ke,this)}function Ce(){return fe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ge.a,e.next=3,Object(ge.e)("TASKS_LOG",Ne);case 3:return e.t1=e.sent,e.next=6,Object(ge.e)("BUTTON_TEXT",ve);case 6:return e.t2=e.sent,e.next=9,Object(ge.e)("TIMER_CONTINUE",xe);case 9:return e.t3=e.sent,e.t4=[e.t1,e.t2,e.t3],e.next=13,(0,e.t0)(e.t4);case 13:case"end":return e.stop()}},je,this)}var we=a(32),ye=Object(we.a)(),Le=Object(pe.a)(),Me=localStorage.getItem("reducer")?function(e){var t=JSON.parse(e);return Object(j.a)({},t,{timer:Object(j.a)({},t.timer,{countTimer:M(t.timer)}),tab:Object(j.a)({},t.tab,{dataForChart:L(t.tab.tasksLog)})})}(localStorage.getItem("reducer")):ae,_e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||de.d,Ae=Object(de.e)(Object(ie.connectRouter)(ye)(function(e){return function(t,a){var n=e(t,a);return localStorage.setItem("reducer",JSON.stringify(n)),n}}(he)),Me,_e(Object(de.a)(Le,Object(ie.routerMiddleware)(ye))));Le.run(Ce),Object(c.render)(r.a.createElement(m.Provider,{store:Ae},r.a.createElement(me,{history:ye})),document.getElementById("root"))}},[[285,2,1]]]);
//# sourceMappingURL=main.043089f6.chunk.js.map